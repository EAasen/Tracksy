# Issues to Create and Close

## Local Issue Templates to Create in GitHub

### 1. API Health Endpoint Enhancement
**Status:** Partially complete, needs verification
**Priority:** High
**Type:** enhancement
**Labels:** backend, tier-1-mvp, documentation
**Epic:** #45 Adventure Platform MVP Foundation

#### Tasks:
- Verify `/healthz` endpoint works correctly  
- Add database connection status
- Document in OpenAPI spec
- Add performance tests (<100ms)

**Note:** We already have the health endpoint, just needs verification and documentation

---

### 2. Add Minimal API Versioning & Docs Tests ⏳ IN PROGRESS
**Status:** Currently being worked on (feature/api-versioning-tests branch)
**Priority:** High
**Type:** testing
**Labels:** backend, tier-1-mvp, testing

#### Tasks:
- [x] Test `/api/v1` root endpoint
- [ ] Test API-Version header presence
- [ ] Test `/api/openapi.yaml` returns valid YAML
- [ ] Test health endpoint performance
- [ ] Add OpenAPI snapshot tests
- [ ] Fix test timeout issues

---

### 3. Flesh Out OpenAPI Paths & Schemas
**Status:** Partially complete  
**Priority:** Medium
**Type:** documentation, enhancement
**Labels:** backend, tier-2-core, documentation

#### Tasks:
- [ ] Complete inventory of current Express routes
- [x] Add standard error structure (DONE in #113)
- [x] Add security schemes (DONE)
- [ ] Add examples for all major endpoints
- [ ] Ensure all v1 routes documented in OpenAPI

---

### 4. Add Spectral Lint CI for OpenAPI
**Status:** Not started
**Priority:** Medium  
**Type:** ci/cd, tooling
**Labels:** backend, devops, tier-2-core

#### Tasks:
- [ ] Add @stoplight/spectral-cli dev dependency
- [ ] Create .github/workflows/api-spec-lint.yml
- [ ] Add spec:lint script to package.json
- [ ] Configure to fail on error, warn on warnings

---

### 5. Modularize OpenAPI Spec
**Status:** Not started
**Priority:** Low
**Type:** refactoring
**Labels:** backend, tier-3-growth, documentation

#### Tasks:
- [ ] Create backend/openapi/ directory structure
- [ ] Split into root.yaml, paths/*.yaml, components/schemas/*.yaml
- [ ] Add build script to bundle spec
- [ ] Update CI to lint bundled output

---

### 6. Generate Typed Client from OpenAPI
**Status:** Not started  
**Priority:** Medium
**Type:** tooling, frontend  
**Labels:** frontend, backend, tier-2-core

#### Tasks:
- [ ] Add openapi-typescript dev dependency
- [ ] Add spec:client script
- [ ] Generate frontend/src/api/types.ts
- [ ] Add fetch wrapper with types
- [ ] Document regeneration in README

---

### 7. Add Header-Based API Version Negotiation
**Status:** Not started
**Priority:** Low
**Type:** enhancement
**Labels:** backend, tier-3-growth

#### Tasks:
- [ ] Add Accept header parsing middleware
- [ ] Override version when header present
- [ ] Add warning header for version mismatch
- [ ] Document in README and OpenAPI
- [ ] Return 400 for unsupported versions

---

### 8. Add x-changelog Extensions to OpenAPI  
**Status:** Not started
**Priority:** Low
**Type:** documentation
**Labels:** backend, documentation, tier-3-growth

#### Tasks:
- [ ] Define x-changelog structure
- [ ] Annotate initial endpoints
- [ ] Document policy for updating
- [ ] Ensure Spectral doesn't fail on extensions

---

### 9. Security & Observability Follow-ups
**Status:** Partially complete
**Priority:** High
**Type:** enhancement, security
**Labels:** backend, devops, security, tier-1-mvp

#### Tasks:
- [x] Backend health endpoint (mostly done)
- [ ] Docker HEALTHCHECK directive
- [ ] README badges (Security Audit, Bundle Stats, Dependabot)
- [ ] Configure size budget thresholds (450KB warn, 600KB error)
- [ ] Add .spectral.yaml placeholder
- [ ] Document dependency management strategy
- [ ] Add npm run analyze documentation

---

### 10. Fix TODOs in Backend Code
**Status:** Not started
**Priority:** Medium
**Type:** enhancement
**Labels:** backend, tier-2-core

#### Tasks Found:
- [ ] Implement Facebook OAuth flow (backend/app.js:365)
- [ ] Implement Apple OAuth flow (backend/app.js:370)

---

## Completed Issues to Close (if not already closed)

### ✅ Issue #61: API Scalability & Documentation
**Status:** CLOSED (2025-11-02)
**Verification:** Merged to main, commit 549e377

### ✅ Issue #113: API Error Standardization  
**Status:** CLOSED (2025-11-07)
**Verification:** Merged to main, commit 47d162d

### ✅ Issue #58: Database Consistency
**Status:** CLOSED (2025-10-20)

### ✅ Issue #59: Security Dependency Upgrades
**Status:** CLOSED (2025-10-31)

---

## Issues Needing Epic Assignment

Many issues lack proper epic assignment. Should assign to:
- **Epic #45:** Adventure Platform MVP Foundation (for tier-1-mvp API work)
- **Epic #48:** Hybrid Architecture Implementation (for scalability features)

